/* ============================================
   FitTrack - Design System (Updated)
   ============================================ */

/* ========== DESIGN TOKENS ========== */
:root {
  /* Colors - Backgrounds */
  --color-bg-primary: #FDF9F8;
  --color-bg-surface: #FFFFFF;
  --color-bg-accent: #FAF2EF;
  --color-bg-input: #FAF8F7;
  
  /* Colors - Borders */
  --color-border-default: #F0E8E4;
  --color-border-input: #E5DDD8;
  
  /* Colors - Text (Updated for better contrast) */
  --color-text-primary: #2D2420;
  --color-text-secondary: #6B5D54;
  --color-text-tertiary: #9A8E86;
  
  /* Colors - Progress */
  --color-progress-track: #F5EDEA;
  --color-progress-fill: #CBA090;
  --color-gradient-start: #C9988A;
  --color-gradient-end: #DBBEB4;
  
  /* Colors - Accent */
  --color-accent: #C9907E;
  --color-accent-soft: #FAE8E2;
  
  /* Colors - Buttons */
  --color-button-primary: #3D352F;
  --color-button-text: #FFFFFF;
  
  /* Colors - Feedback */
  --color-success: #6B8F64;
  
  /* Colors - Cycle Badge */
  --color-cycle-bg: #FAE8E2;
  --color-cycle-text: #B07E6C;
  
  /* Typography - Font Family */
  --font-family: "DM Sans", -apple-system, BlinkMacSystemFont, sans-serif;
  
  /* Typography - Font Sizes */
  --font-size-display: 52px;
  --font-size-headline: 44px;
  --font-size-title: 28px;
  --font-size-large: 20px;
  --font-size-date: 18px;
  --font-size-body: 16px;
  --font-size-label: 15px;
  --font-size-small: 13px;
  --font-size-caption: 12px;
  --font-size-tiny: 11px;
  
  /* Typography - Font Weights (Updated - heavier) */
  --font-weight-regular: 500;
  --font-weight-medium: 600;
  --font-weight-semibold: 700;
  --font-weight-bold: 700;
  
  /* Typography - Line Heights */
  --line-height-tight: 1;
  --line-height-normal: 1.4;
  
  /* Spacing */
  --space-unit: 8px;
  --section-padding-x: 24px;
  --section-padding-y: 20px;
  --section-header-margin: 20px;
  --input-group-margin: 28px;
  --label-margin: 14px;
  --macro-row-gap: 18px;
  --label-gap: 8px;
  --ring-label-gap: 10px;
  
  /* Progress Dimensions */
  --bar-height-large: 14px;
  --bar-height-default: 12px;
  --ring-size: 130px;
  --ring-stroke: 12px;
  
  /* Borders */
  --border-radius: 0px;
  --border-radius-small: 8px;
  --border-radius-badge: 24px;
  --border-width: 1px;
  --border-width-input: 2px;
  
  /* Component Sizes - Inputs */
  --input-padding: 16px;
  --input-font-size: 20px;
  --input-min-width: 100px;
  
  /* Component Sizes - Buttons */
  --button-padding: 16px 28px;
  --button-padding-small: 12px 20px;
  --button-font-size: 16px;
  --button-font-size-small: 14px;
  
  /* Rating buttons */
  --rating-button-padding: 16px 0;
  --rating-button-font-size: 18px;
  
  /* Tab Bar */
  --tab-bar-height: 70px;
  --tab-icon-size: 26px;
  --tab-label-size: 12px;
  
  /* Transitions */
  --transition-fast: 0.2s ease;
  --transition-default: 0.3s ease;
  --transition-slow: 0.5s ease;
}

/* ========== RESET & BASE ========== */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: var(--font-family);
  font-weight: var(--font-weight-regular);
  background: var(--color-bg-primary);
  color: var(--color-text-primary);
  line-height: var(--line-height-normal);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ========== APP CONTAINER ========== */
.app {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  max-width: 430px;
  margin: 0 auto;
  background: var(--color-bg-primary);
}

/* ========== MAIN CONTENT ========== */
.main {
  flex: 1;
  display: flex;
  flex-direction: column;
  /* Account for tab bar height + safe area + extra breathing room */
  padding-bottom: calc(var(--tab-bar-height) + env(safe-area-inset-bottom, 0px) + 8px);
  overflow-y: auto;
}

/* ========== SECTIONS ========== */
.section {
  padding: var(--section-padding-y) var(--section-padding-x);
  border-bottom: var(--border-width) solid var(--color-border-default);
  display: flex;
  flex-direction: column;
  justify-content: center;
  min-height: 48px; /* ~10px taller than button (~38px) */
}

.section:last-of-type {
  border-bottom: none;
}

.section-header {
  font-size: var(--font-size-caption);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-tertiary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: var(--section-header-margin);
}

/* ========== DASHBOARD HEADER ========== */
.dashboard-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--section-padding-y) var(--section-padding-x);
  padding-top: calc(env(safe-area-inset-top, 0px) + var(--section-padding-y));
  border-bottom: var(--border-width) solid var(--color-border-default);
}

.dashboard-date {
  font-size: var(--font-size-date);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
}

/* ========== CYCLE BADGE ========== */
.cycle-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  background: var(--color-cycle-bg);
  color: var(--color-cycle-text);
  border-radius: var(--border-radius-badge);
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
}

.cycle-badge svg {
  width: 14px;
  height: 14px;
  fill: currentColor;
}

/* ========== CALORIE CARD ========== */
.calorie-card {
  padding: var(--section-padding-y) var(--section-padding-x);
  border-bottom: var(--border-width) solid var(--color-border-default);
}

.calorie-content {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  margin-bottom: var(--label-gap);
}

.calorie-consumed {
  font-size: var(--font-size-headline);
  font-weight: var(--font-weight-bold);
  color: var(--color-text-primary);
  line-height: var(--line-height-tight);
}

.calorie-meta {
  display: flex;
  align-items: baseline;
  gap: 12px;
}

.calorie-goal {
  font-size: var(--font-size-body);
  font-weight: var(--font-weight-regular);
  color: var(--color-text-tertiary);
}

.calorie-remaining {
  font-size: var(--font-size-body);
  font-weight: var(--font-weight-medium);
  color: var(--color-accent);
}

/* ========== MACRO CARD ========== */
.macro-card {
  padding: var(--section-padding-y) var(--section-padding-x);
  border-bottom: var(--border-width) solid var(--color-border-default);
}

.macro-rows {
  display: flex;
  flex-direction: column;
  gap: var(--macro-row-gap);
}

.macro-row {
  display: flex;
  flex-direction: column;
  gap: var(--label-gap);
}

.macro-row-header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
}

.macro-label {
  font-size: var(--font-size-label);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-secondary);
}

.macro-value {
  font-size: var(--font-size-label);
  font-weight: var(--font-weight-regular);
  color: var(--color-text-tertiary);
}

/* ========== PROGRESS BAR ========== */
.progress-bar {
  width: 100%;
  height: var(--bar-height-default);
  background: var(--color-progress-track);
  border-radius: var(--border-radius);
  overflow: hidden;
}

.progress-bar--large {
  height: var(--bar-height-large);
}

.progress-bar__fill {
  height: 100%;
  background: var(--color-progress-fill);
  transition: width var(--transition-default);
}

.progress-bar__fill--gradient {
  background: linear-gradient(to right, var(--color-gradient-start), var(--color-gradient-end));
}

/* ========== STATS ROW (Steps + Sleep) ========== */
.stats-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  padding: var(--section-padding-y) var(--section-padding-x);
  border-bottom: var(--border-width) solid var(--color-border-default);
}

.stats-row > *:first-child {
  border-right: var(--border-width) solid var(--color-border-default);
  padding-right: var(--section-padding-x);
}

.stats-row > *:last-child {
  padding-left: var(--section-padding-x);
}

/* ========== STEPS CARD ========== */
.steps-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
}

.steps-ring-container {
  position: relative;
  width: var(--ring-size);
  height: var(--ring-size);
  margin-bottom: var(--ring-label-gap);
}

.steps-ring-content {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

.steps-value {
  font-size: var(--font-size-title);
  font-weight: var(--font-weight-bold);
  color: var(--color-text-primary);
  line-height: var(--line-height-tight);
}

.steps-unit {
  font-size: var(--font-size-tiny);
  font-weight: var(--font-weight-regular);
  color: var(--color-text-tertiary);
  margin-top: 2px;
}

.steps-goal {
  font-size: var(--font-size-tiny);
  font-weight: var(--font-weight-regular);
  color: var(--color-text-tertiary);
}

/* ========== SLEEP CARD ========== */
.sleep-card {
  display: flex;
  flex-direction: column;
}

.sleep-value-row {
  display: flex;
  align-items: baseline;
  gap: 4px;
  margin-bottom: 4px;
}

.sleep-value {
  font-size: var(--font-size-display);
  font-weight: var(--font-weight-bold);
  color: var(--color-text-primary);
  line-height: var(--line-height-tight);
}

.sleep-goal {
  font-size: var(--font-size-large);
  font-weight: var(--font-weight-regular);
  color: var(--color-text-tertiary);
}

.sleep-subtext {
  font-size: var(--font-size-caption);
  font-weight: var(--font-weight-regular);
  color: var(--color-text-tertiary);
}

/* ========== PROGRESS RING ========== */
.progress-ring {
  transform: rotate(-90deg);
}

.progress-ring__track {
  fill: none;
  stroke: var(--color-progress-track);
}

.progress-ring__fill {
  fill: none;
  stroke: url(#ring-gradient);
  stroke-linecap: butt;
  transition: stroke-dashoffset var(--transition-default);
}

/* ========== TAB BAR ========== */
.tab-bar {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  display: flex;
  justify-content: space-around;
  align-items: center;
  /* Height = content height + safe area for home indicator */
  height: calc(var(--tab-bar-height) + env(safe-area-inset-bottom, 0px));
  padding-bottom: env(safe-area-inset-bottom, 0px);
  background: var(--color-bg-surface);
  border-top: var(--border-width) solid var(--color-border-default);
  max-width: 430px;
  margin: 0 auto;
}

.tab-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  padding: 8px 24px;
  text-decoration: none;
  color: var(--color-text-tertiary);
  transition: color var(--transition-fast);
}

.tab-item.active {
  color: var(--color-text-primary);
}

.tab-icon {
  width: var(--tab-icon-size);
  height: var(--tab-icon-size);
}

.tab-icon svg {
  width: 100%;
  height: 100%;
  stroke-width: 2;
}

.tab-item.active .tab-icon svg {
  stroke-width: 2.5;
}

.tab-label {
  font-size: var(--tab-label-size);
  font-weight: var(--font-weight-regular);
}

.tab-item.active .tab-label {
  font-weight: var(--font-weight-semibold);
}

/* ========== STYLED INPUT ========== */
.styled-input {
  padding: var(--input-padding);
  font-size: var(--input-font-size);
  font-weight: var(--font-weight-bold);
  font-family: var(--font-family);
  color: var(--color-text-primary);
  background: var(--color-bg-input);
  border: var(--border-width-input) solid var(--color-border-input);
  border-radius: var(--border-radius-small);
  text-align: center;
  min-width: var(--input-min-width);
  transition: border-color var(--transition-fast);
}

.styled-input:focus {
  outline: none;
  border-color: var(--color-accent);
}

.styled-input::placeholder {
  color: var(--color-text-tertiary);
}

/* Remove number input spinners */
.styled-input::-webkit-outer-spin-button,
.styled-input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
.styled-input[type=number] {
  -moz-appearance: textfield;
}

/* ========== PRIMARY BUTTON ========== */
.primary-button {
  padding: var(--button-padding);
  font-size: var(--button-font-size);
  font-weight: var(--font-weight-bold);
  font-family: var(--font-family);
  background: var(--color-button-primary);
  color: var(--color-button-text);
  border: none;
  border-radius: var(--border-radius-small);
  cursor: pointer;
  transition: opacity var(--transition-fast);
}

.primary-button:hover:not(:disabled) {
  opacity: 0.9;
}

.primary-button:disabled {
  background: var(--color-bg-accent);
  color: var(--color-text-tertiary);
  opacity: 0.6;
  cursor: not-allowed;
}

.primary-button--small {
  padding: var(--button-padding-small);
  font-size: var(--button-font-size-small);
}

/* ========== MACRO INPUT ROW ========== */
.macro-input-row {
  margin-bottom: var(--input-group-margin);
}

.macro-input-row:last-child {
  margin-bottom: 0;
}

.macro-input-header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  margin-bottom: var(--label-margin);
}

.macro-input-controls {
  display: flex;
  gap: 12px;
}

.macro-input-field {
  position: relative;
  flex: 1;
}

.macro-input-field input {
  width: 100%;
  padding-right: 32px;
}

.macro-input-suffix {
  position: absolute;
  right: 16px;
  top: 50%;
  transform: translateY(-50%);
  font-size: var(--font-size-body);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-tertiary);
  pointer-events: none;
}

/* ========== CALORIES SUMMARY CARD ========== */
.calories-summary {
  background: var(--color-bg-accent);
  border-radius: var(--border-radius-small);
  padding: var(--input-padding);
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: var(--section-header-margin);
}

.calories-summary-label {
  font-size: var(--font-size-body);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-secondary);
}

.calories-summary-value {
  font-size: var(--font-size-title);
  font-weight: var(--font-weight-bold);
  color: var(--color-text-primary);
}

.calories-summary-goal {
  font-size: var(--font-size-body);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-tertiary);
}

/* ========== BODY INPUT ROW ========== */
.body-input-row {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: var(--input-group-margin);
}

.body-input-row:last-child {
  margin-bottom: 0;
}

.body-input-label {
  flex: 1;
}

.body-input-label-main {
  font-size: var(--font-size-body);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
}

.body-input-label-hint {
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-regular);
  color: var(--color-text-tertiary);
}

.body-input-field {
  display: flex;
  align-items: center;
  gap: 8px;
}

.body-input-field input {
  width: 100px;
}

.body-input-unit {
  font-size: var(--font-size-body);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-tertiary);
  min-width: 45px;
  text-align: left;
}

/* ========== CYCLE SECTION ========== */
.cycle-section-badge {
  margin-bottom: 8px;
}

.cycle-section-prediction {
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-regular);
  color: var(--color-text-tertiary);
  margin-bottom: var(--section-header-margin);
}

.cycle-section-question {
  font-size: var(--font-size-body);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
  margin-bottom: var(--label-margin);
}

.cycle-toggle-buttons {
  display: flex;
  gap: 12px;
}

.cycle-toggle-button {
  flex: 1;
  padding: 14px;
  font-size: var(--font-size-body);
  font-weight: var(--font-weight-medium);
  font-family: var(--font-family);
  background: var(--color-bg-input);
  color: var(--color-text-secondary);
  border: var(--border-width-input) solid var(--color-border-input);
  border-radius: var(--border-radius-small);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.cycle-toggle-button:hover {
  border-color: var(--color-accent);
}

.cycle-toggle-button.active {
  background: var(--color-accent-soft);
  color: var(--color-accent);
  border-color: var(--color-accent);
}

/* ========== STEPS CARD (LOG VERSION) ========== */
.steps-card-log {
  background: var(--color-bg-accent);
  border-radius: var(--border-radius-small);
  padding: var(--section-padding-y);
}

.steps-card-log-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 4px;
}

.steps-card-log-label {
  font-size: var(--font-size-body);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-secondary);
}

.steps-card-log-sync {
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-regular);
  color: var(--color-text-tertiary);
}

.steps-card-log-value {
  font-size: var(--font-size-title);
  font-weight: var(--font-weight-bold);
  color: var(--color-text-primary);
}

.steps-card-log-goal {
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-regular);
  color: var(--color-text-tertiary);
}

/* ========== RATING INPUT ========== */
.rating-input-row {
  margin-bottom: var(--input-group-margin);
}

.rating-input-row:last-child {
  margin-bottom: 0;
}

.rating-input-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--label-margin);
}

.rating-input-label {
  font-size: var(--font-size-body);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
}

.rating-input-saved {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  color: var(--color-success);
}

.rating-input-controls {
  display: flex;
  gap: 8px;
}

.rating-buttons {
  display: flex;
  gap: 4px;
  flex: 1;
}

.rating-button {
  flex: 1;
  padding: var(--rating-button-padding);
  font-size: var(--rating-button-font-size);
  font-weight: var(--font-weight-bold);
  font-family: var(--font-family);
  background: var(--color-bg-input);
  color: var(--color-text-secondary);
  border: var(--border-width-input) solid var(--color-border-input);
  border-radius: var(--border-radius-small);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.rating-button:hover {
  border-color: var(--color-accent);
}

.rating-button.selected {
  background: var(--color-accent-soft);
  color: var(--color-accent);
  border-color: var(--color-accent);
}

/* ========== EMPTY STATE ========== */
.empty-state {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 48px var(--section-padding-x);
  text-align: center;
}

.empty-state__title {
  font-size: var(--font-size-body);
  font-weight: var(--font-weight-regular);
  color: var(--color-text-secondary);
  margin-bottom: 16px;
}

.empty-state__button {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 12px 24px;
  background: var(--color-accent-soft);
  color: var(--color-accent);
  border: none;
  border-radius: var(--border-radius-small);
  font-size: var(--font-size-body);
  font-weight: var(--font-weight-medium);
  font-family: var(--font-family);
  cursor: pointer;
  transition: opacity var(--transition-fast);
}

.empty-state__button:hover {
  opacity: 0.8;
}

/* ========== LOADING SKELETON ========== */
.skeleton {
  background: linear-gradient(
    90deg,
    var(--color-progress-track) 25%,
    var(--color-bg-accent) 50%,
    var(--color-progress-track) 75%
  );
  background-size: 200% 100%;
  animation: skeleton-pulse 1.5s ease-in-out infinite;
  border-radius: var(--border-radius-small);
}

@keyframes skeleton-pulse {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

.skeleton--text {
  height: 1em;
  width: 60%;
}

.skeleton--number {
  height: 44px;
  width: 120px;
}

.skeleton--bar {
  height: var(--bar-height-default);
  width: 100%;
}

/* ========== RESPONSIVE ========== */
@media (min-width: 768px) {
  .app {
    margin: 0 auto;
  }
}

/* ========== SAFE AREA ========== */
/* Safe area handling is now done inline in the component styles above */

/* ========== AUTH PAGE ========== */
.auth-page {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--page-padding);
  background: var(--color-bg-primary);
}

.auth-container {
  width: 100%;
  max-width: 400px;
}

.auth-header {
  text-align: center;
  margin-bottom: 32px;
}

.auth-title {
  font: var(--font-display-large);
  color: var(--color-text-primary);
  margin-bottom: 8px;
}

.auth-subtitle {
  font: var(--font-body-large);
  color: var(--color-text-secondary);
}

.auth-form {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.auth-field {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.auth-label {
  font: var(--font-label-medium);
  color: var(--color-text-secondary);
}

.auth-error {
  background: #FEE8E8;
  color: #B91C1C;
  padding: 12px 16px;
  border-radius: var(--border-radius-small);
  font: var(--font-body-medium);
}

.auth-success {
  background: #E8F5E9;
  color: #2E7D32;
  padding: 12px 16px;
  border-radius: var(--border-radius-small);
  font: var(--font-body-medium);
}

.auth-toggle {
  text-align: center;
  margin-top: 24px;
  font: var(--font-body-medium);
  color: var(--color-text-secondary);
}

.auth-toggle-button {
  background: none;
  border: none;
  color: var(--color-accent);
  font: var(--font-label-medium);
  cursor: pointer;
  text-decoration: underline;
}

.auth-toggle-button:hover {
  color: var(--color-text-primary);
}

/* Logout button in header */
.header-logout {
  background: none;
  border: none;
  color: var(--color-text-tertiary);
  font: var(--font-caption);
  cursor: pointer;
  padding: 4px 8px;
}

.header-logout:hover {
  color: var(--color-text-primary);
}

.overview-signout {
  position: fixed;
  top: calc(env(safe-area-inset-top, 0px) + var(--section-padding-y));
  right: var(--section-padding-x);
  z-index: 100;
  opacity: 1;
  transition: opacity 0.3s ease;
}

.overview-signout.scrolled {
  opacity: 0;
  pointer-events: none;
}

/* ========== OVERVIEW PAGE ========== */
.overview-page {
  padding-bottom: 80px; /* Space for tab bar */
}

.overview-page-header {
  padding: var(--section-padding-y) var(--section-padding-x);
  padding-top: calc(env(safe-area-inset-top, 0px) + var(--section-padding-y));
  border-bottom: var(--border-width) solid var(--color-border-default);
}

.overview-page-title {
  font: var(--font-title-large);
  color: var(--color-text-primary);
  margin-bottom: 16px;
}

.overview-page-divider {
  height: 1px;
  background: var(--color-border-default);
  margin-bottom: 24px;
}

.overview-section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
}

.overview-section-title {
  font: var(--font-title-medium);
  color: var(--color-text-primary);
}

/* ========== COLLAPSIBLE SECTION ========== */
.collapsible-section {
  margin-bottom: 0;
}

.collapsible-section-header {
  width: 100%;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0;
  background: none;
  border: none;
  cursor: pointer;
  text-align: left;
}

.collapsible-section-title {
  font-size: var(--font-size-caption);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-tertiary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  font-family: var(--font-family);
}

.collapsible-section-icon {
  color: var(--color-text-tertiary);
  transition: transform 0.3s ease;
}

.collapsible-section-content {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.3s ease;
}

.collapsible-section-content.expanded {
  max-height: 2000px; /* Large enough for content */
}

/* ========== GOAL EDITOR ========== */
.goal-editor {
  margin-bottom: 28px;
}

.goal-editor-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}

.goal-editor-label {
  font: var(--font-label-medium);
  color: var(--color-text-secondary);
}

.goal-editor-saved {
  display: flex;
  align-items: center;
  gap: 4px;
  font: var(--font-caption);
  color: var(--color-success);
}

.goal-editor-controls {
  display: flex;
  align-items: center;
  gap: 12px;
}

.goal-editor-input-wrapper {
  display: flex;
  align-items: center;
  gap: 8px;
}

.goal-editor-input {
  width: 100px;
  padding: 12px;
  background: var(--color-bg-input);
  border: 1px solid var(--color-border-input);
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  text-align: center;
  color: var(--color-text-primary);
}

.goal-editor-unit {
  font: var(--font-body-medium);
  color: var(--color-text-tertiary);
}

/* ========== GOAL READ-ONLY (CALORIES) ========== */
.goal-readonly {
  margin-bottom: 28px;
}

.goal-readonly-header {
  margin-bottom: 8px;
}

.goal-readonly-label {
  font: var(--font-label-medium);
  color: var(--color-text-secondary);
}

.goal-readonly-value {
  font-size: 16px;
  font-weight: 600;
  color: var(--color-text-primary);
}

.goal-readonly-note {
  font: var(--font-caption);
  color: var(--color-text-tertiary);
  font-weight: 400;
}

/* ========== PROFILE FIELD ========== */
.profile-field {
  margin-bottom: 24px;
}

.profile-field-label {
  display: block;
  font: var(--font-label-medium);
  color: var(--color-text-secondary);
  margin-bottom: 8px;
}

.profile-field-controls {
  display: flex;
  align-items: center;
  gap: 12px;
}

.profile-field-input-wrapper {
  display: flex;
  align-items: center;
  gap: 8px;
}

.profile-field-input {
  width: 100px;
  padding: 12px;
  background: var(--color-bg-input);
  border: 1px solid var(--color-border-input);
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  text-align: center;
  color: var(--color-text-primary);
}

.profile-field-input-height {
  width: 80px;
}

.profile-field-height-inputs {
  display: flex;
  align-items: center;
  gap: 8px;
}

.profile-field-unit {
  font: var(--font-body-medium);
  color: var(--color-text-tertiary);
}

/* ========== CYCLE FIELD ========== */
.cycle-field {
  margin-bottom: 24px;
}

.cycle-field-label {
  display: block;
  font: var(--font-label-medium);
  color: var(--color-text-secondary);
  margin-bottom: 8px;
}

.cycle-field-controls {
  display: flex;
  align-items: center;
  gap: 12px;
}

.cycle-field-input-wrapper {
  display: flex;
  align-items: center;
  gap: 8px;
  flex: 1;
}

.cycle-field-input {
  width: 100px;
  padding: 12px;
  background: var(--color-bg-input);
  border: 1px solid var(--color-border-input);
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  text-align: center;
  color: var(--color-text-primary);
}

.cycle-field-input-date {
  width: 100%;
  text-align: left;
}

.cycle-field-unit {
  font: var(--font-body-medium);
  color: var(--color-text-tertiary);
}

/* ========== CHART RANGE SELECTOR ========== */
.chart-range-selector {
  position: relative;
}

.chart-range-select {
  appearance: none;
  padding: 6px 32px 6px 12px;
  background: var(--color-bg-input);
  border: 1px solid var(--color-border-input);
  border-radius: 8px;
  font: var(--font-label-medium);
  color: var(--color-text-primary);
  cursor: pointer;
}

.chart-range-chevron {
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  pointer-events: none;
  color: var(--color-text-tertiary);
}

/* ========== WEIGHT CHART ========== */
.weight-chart {
  margin-top: 16px;
}

.weight-chart-empty {
  padding: 40px 20px;
  text-align: center;
  font: var(--font-body-medium);
  color: var(--color-text-secondary);
}

.weight-chart-skeleton {
  padding: 20px;
}

.weight-chart-tooltip {
  background: var(--color-bg-surface);
  border: 1px solid var(--color-border-default);
  border-radius: 8px;
  padding: 8px 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.weight-chart-tooltip-label {
  font: var(--font-caption);
  color: var(--color-text-tertiary);
  margin-bottom: 4px;
}

.weight-chart-tooltip-value {
  font: var(--font-label-medium);
  color: var(--color-text-primary);
}

/* ========== QUICK STAT CARD ========== */
.quick-stats-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
  margin-top: 16px;
}

.quick-stat-card {
  background: var(--color-bg-accent);
  border-radius: 8px;
  padding: 20px;
}

.quick-stat-label {
  font: var(--font-label-medium);
  color: var(--color-text-secondary);
  margin-bottom: 12px;
}

.quick-stat-values {
  display: flex;
  align-items: baseline;
  gap: 4px;
  margin-bottom: 12px;
}

.quick-stat-average {
  font-size: 24px;
  font-weight: 700;
  color: var(--color-text-primary);
}

.quick-stat-goal {
  font: var(--font-caption);
  color: var(--color-text-tertiary);
}

.quick-stat-empty {
  text-align: center;
  padding: 20px 0;
}

.quick-stat-empty-value {
  font-size: 24px;
  font-weight: 700;
  color: var(--color-text-tertiary);
  margin-bottom: 4px;
}

.quick-stat-empty-subtext {
  font: var(--font-caption);
  color: var(--color-text-tertiary);
}

.quick-stat-skeleton {
  display: flex;
  flex-direction: column;
  gap: 8px;
}
